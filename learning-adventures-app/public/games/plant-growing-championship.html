<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Plant Growing Championship - Learning Adventures</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(180deg, #87CEEB 0%, #98FB98 50%, #8B4513 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 10px;
        }

        .game-container {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
            width: 100%;
            max-width: 950px;
            padding: 20px;
        }

        .game-header {
            text-align: center;
            margin-bottom: 15px;
        }

        .game-title {
            font-size: 2rem;
            font-weight: bold;
            color: #2e7d32;
            margin-bottom: 5px;
        }

        .game-subtitle {
            font-size: 1rem;
            color: #666;
        }

        .stats-bar {
            display: flex;
            justify-content: space-around;
            background: linear-gradient(135deg, #e8f5e9, #c8e6c9);
            padding: 12px;
            border-radius: 15px;
            margin-bottom: 15px;
            border: 2px solid #4caf50;
            flex-wrap: wrap;
            gap: 10px;
        }

        .stat {
            text-align: center;
            min-width: 70px;
        }

        .stat-value {
            font-size: 1.3rem;
            font-weight: bold;
            color: #2e7d32;
        }

        .stat-label {
            font-size: 0.75rem;
            color: #666;
        }

        .resources-bar {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-bottom: 15px;
            flex-wrap: wrap;
        }

        .resource {
            display: flex;
            align-items: center;
            gap: 8px;
            background: #f5f5f5;
            padding: 8px 15px;
            border-radius: 20px;
            border: 2px solid #ddd;
        }

        .resource-icon {
            font-size: 1.5rem;
        }

        .resource-bar {
            width: 80px;
            height: 10px;
            background: #e0e0e0;
            border-radius: 5px;
            overflow: hidden;
        }

        .resource-fill {
            height: 100%;
            transition: width 0.3s;
            border-radius: 5px;
        }

        .resource-fill.water {
            background: linear-gradient(90deg, #2196f3, #64b5f6);
        }

        .resource-fill.sunlight {
            background: linear-gradient(90deg, #ffc107, #ffeb3b);
        }

        .resource-fill.nutrients {
            background: linear-gradient(90deg, #795548, #a1887f);
        }

        .garden-area {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
            margin-bottom: 15px;
        }

        .plant-pot {
            background: linear-gradient(180deg, #87CEEB 0%, #e8f5e9 30%, #8B4513 90%);
            border-radius: 15px;
            padding: 15px;
            text-align: center;
            border: 3px solid #5d4037;
            min-height: 200px;
            display: flex;
            flex-direction: column;
            position: relative;
        }

        .plant-name {
            font-weight: bold;
            color: #2e7d32;
            margin-bottom: 5px;
        }

        .plant-stage {
            font-size: 0.8rem;
            color: #666;
            margin-bottom: 10px;
        }

        .plant-display {
            flex: 1;
            display: flex;
            align-items: flex-end;
            justify-content: center;
            font-size: 3rem;
            transition: all 0.3s;
        }

        .plant-display.growing {
            animation: grow 0.5s ease;
        }

        @keyframes grow {
            0% { transform: scale(1); }
            50% { transform: scale(1.2); }
            100% { transform: scale(1); }
        }

        .health-bar {
            width: 100%;
            height: 8px;
            background: #e0e0e0;
            border-radius: 4px;
            margin: 10px 0;
            overflow: hidden;
        }

        .health-fill {
            height: 100%;
            background: linear-gradient(90deg, #4caf50, #8bc34a);
            transition: width 0.3s;
        }

        .health-fill.warning {
            background: linear-gradient(90deg, #ff9800, #ffc107);
        }

        .health-fill.danger {
            background: linear-gradient(90deg, #f44336, #ff5722);
        }

        .plant-actions {
            display: flex;
            justify-content: center;
            gap: 8px;
            margin-top: 10px;
        }

        .action-btn {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            border: none;
            cursor: pointer;
            font-size: 1.2rem;
            transition: transform 0.2s, box-shadow 0.2s;
        }

        .action-btn:hover:not(:disabled) {
            transform: scale(1.1);
        }

        .action-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .action-btn.water {
            background: linear-gradient(135deg, #2196f3, #64b5f6);
        }

        .action-btn.sun {
            background: linear-gradient(135deg, #ffc107, #ffeb3b);
        }

        .action-btn.fertilize {
            background: linear-gradient(135deg, #795548, #a1887f);
            color: white;
        }

        .action-btn:active:not(:disabled) {
            transform: scale(0.95);
        }

        .growth-indicator {
            position: absolute;
            top: 10px;
            right: 10px;
            font-size: 0.8rem;
            padding: 2px 8px;
            border-radius: 10px;
            font-weight: bold;
        }

        .growth-indicator.ready {
            background: #4caf50;
            color: white;
        }

        .growth-indicator.needs-care {
            background: #ff9800;
            color: white;
            animation: pulse 1s infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.6; }
        }

        .harvest-btn {
            background: linear-gradient(135deg, #4caf50, #2e7d32);
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 15px;
            cursor: pointer;
            font-weight: bold;
            margin-top: 10px;
            display: none;
        }

        .harvest-btn.show {
            display: block;
            animation: bounce 0.5s infinite;
        }

        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-3px); }
        }

        .tips-area {
            background: #fff3e0;
            border: 2px solid #ff9800;
            border-radius: 10px;
            padding: 10px 15px;
            text-align: center;
            font-size: 0.9rem;
        }

        .tips-area strong {
            color: #f57c00;
        }

        /* Modals */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }

        .modal.active {
            display: flex;
        }

        .modal-content {
            background: white;
            border-radius: 20px;
            padding: 30px;
            text-align: center;
            max-width: 450px;
            width: 90%;
            animation: popIn 0.3s ease;
        }

        @keyframes popIn {
            from { transform: scale(0.8); opacity: 0; }
            to { transform: scale(1); opacity: 1; }
        }

        .modal-title {
            font-size: 1.8rem;
            color: #2e7d32;
            margin-bottom: 15px;
        }

        .modal-emoji {
            font-size: 4rem;
            margin-bottom: 15px;
        }

        .modal-text {
            font-size: 1rem;
            color: #666;
            margin-bottom: 15px;
            line-height: 1.6;
        }

        .btn {
            background: linear-gradient(135deg, #4caf50, #2e7d32);
            color: white;
            border: none;
            padding: 15px 35px;
            font-size: 1.1rem;
            border-radius: 25px;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
            margin: 5px;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(76, 175, 80, 0.4);
        }

        .plant-selection {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
            margin: 15px 0;
        }

        .plant-option {
            background: #f5f5f5;
            border: 3px solid #e0e0e0;
            border-radius: 10px;
            padding: 10px;
            cursor: pointer;
            transition: all 0.2s;
        }

        .plant-option:hover {
            border-color: #4caf50;
            background: #e8f5e9;
        }

        .plant-option.selected {
            border-color: #2e7d32;
            background: #c8e6c9;
        }

        .plant-option-emoji {
            font-size: 2rem;
        }

        .plant-option-name {
            font-size: 0.9rem;
            font-weight: bold;
            color: #333;
        }

        .plant-option-time {
            font-size: 0.75rem;
            color: #666;
        }

        .score-breakdown {
            text-align: left;
            margin: 15px 0;
            padding: 10px;
            background: #f5f5f5;
            border-radius: 10px;
        }

        .score-row {
            display: flex;
            justify-content: space-between;
            padding: 5px 0;
            border-bottom: 1px dashed #ddd;
        }

        .score-row:last-child {
            border-bottom: none;
            font-weight: bold;
            color: #2e7d32;
        }

        /* Responsive */
        @media (max-width: 600px) {
            .garden-area {
                grid-template-columns: 1fr;
            }

            .plant-pot {
                min-height: 180px;
            }

            .game-title {
                font-size: 1.5rem;
            }

            .stat-value {
                font-size: 1.1rem;
            }

            .plant-selection {
                grid-template-columns: repeat(2, 1fr);
            }
        }
    </style>
</head>
<body>
    <div class="game-container">
        <div class="game-header">
            <h1 class="game-title">üå± Plant Growing Championship üèÜ</h1>
            <p class="game-subtitle">Grow the healthiest plants to win!</p>
        </div>

        <div class="stats-bar">
            <div class="stat">
                <div class="stat-value" id="scoreDisplay">0</div>
                <div class="stat-label">Score</div>
            </div>
            <div class="stat">
                <div class="stat-value" id="harvestDisplay">0</div>
                <div class="stat-label">Harvested</div>
            </div>
            <div class="stat">
                <div class="stat-value" id="dayDisplay">1</div>
                <div class="stat-label">Day</div>
            </div>
            <div class="stat">
                <div class="stat-value" id="timeDisplay">2:00</div>
                <div class="stat-label">Season</div>
            </div>
        </div>

        <div class="resources-bar">
            <div class="resource">
                <span class="resource-icon">üíß</span>
                <div class="resource-bar">
                    <div class="resource-fill water" id="waterFill" style="width: 100%"></div>
                </div>
            </div>
            <div class="resource">
                <span class="resource-icon">‚òÄÔ∏è</span>
                <div class="resource-bar">
                    <div class="resource-fill sunlight" id="sunFill" style="width: 100%"></div>
                </div>
            </div>
            <div class="resource">
                <span class="resource-icon">üß™</span>
                <div class="resource-bar">
                    <div class="resource-fill nutrients" id="nutrientFill" style="width: 100%"></div>
                </div>
            </div>
        </div>

        <div class="garden-area" id="gardenArea">
            <!-- Plant pots generated by JS -->
        </div>

        <div class="tips-area" id="tipsArea">
            <strong>üå± Tip:</strong> <span id="tipText">Plants need water, sunlight, and nutrients to grow healthy!</span>
        </div>
    </div>

    <!-- Start Modal -->
    <div class="modal active" id="startModal">
        <div class="modal-content">
            <div class="modal-emoji">üå±üèÜ</div>
            <h2 class="modal-title">Plant Growing Championship</h2>
            <p class="modal-text">Learn to care for plants and grow the best garden!</p>
            <div class="modal-text">
                <strong>How to Play:</strong><br>
                üíß Water plants when soil is dry<br>
                ‚òÄÔ∏è Give sunlight for energy<br>
                üß™ Add nutrients for healthy growth<br>
                üå∏ Harvest when fully grown!
            </div>
            <p class="modal-text"><strong>Goal:</strong> Grow and harvest 5 plants before the season ends!</p>
            <button class="btn" onclick="startGame()">Start Growing!</button>
        </div>
    </div>

    <!-- Plant Selection Modal -->
    <div class="modal" id="selectModal">
        <div class="modal-content">
            <h2 class="modal-title">Choose Your Plant</h2>
            <p class="modal-text">Select a plant for pot <span id="potNumber"></span></p>
            <div class="plant-selection" id="plantSelection"></div>
            <button class="btn" id="confirmPlantBtn" onclick="confirmPlant()" disabled>Plant It!</button>
        </div>
    </div>

    <!-- Game Over Modal -->
    <div class="modal" id="gameOverModal">
        <div class="modal-content">
            <div class="modal-emoji" id="gameOverEmoji">üåª</div>
            <h2 class="modal-title" id="gameOverTitle">Season Complete!</h2>
            <div class="score-breakdown" id="scoreBreakdown"></div>
            <p class="modal-text" id="gameOverMessage"></p>
            <button class="btn" onclick="restartGame()">New Season</button>
        </div>
    </div>

    <script>
        // Plant data
        const plantTypes = [
            { id: 'sunflower', emoji: 'üåª', name: 'Sunflower', growTime: 4, points: 100, stages: ['üå±', 'üåø', 'üåæ', 'üåª'] },
            { id: 'tomato', emoji: 'üçÖ', name: 'Tomato', growTime: 5, points: 120, stages: ['üå±', 'üåø', 'ü™¥', 'üå∏', 'üçÖ'] },
            { id: 'carrot', emoji: 'ü•ï', name: 'Carrot', growTime: 3, points: 80, stages: ['üå±', 'ü•¨', 'ü•ï'] },
            { id: 'tulip', emoji: 'üå∑', name: 'Tulip', growTime: 3, points: 90, stages: ['üå±', 'üåø', 'üå∑'] },
            { id: 'strawberry', emoji: 'üçì', name: 'Strawberry', growTime: 4, points: 110, stages: ['üå±', 'üåø', 'üå∏', 'üçì'] },
            { id: 'cactus', emoji: 'üåµ', name: 'Cactus', growTime: 6, points: 150, stages: ['üå±', 'ü™¥', 'üåµ', 'üåµ', 'üåµ', 'üå∫'] }
        ];

        const tips = [
            "Plants need water, sunlight, and nutrients to grow healthy!",
            "Overwatering can harm plants - watch the health bar!",
            "Different plants have different growing times.",
            "Harvest plants when they reach full growth for maximum points!",
            "Keep your resources balanced - don't run out!",
            "Healthy plants give bonus points when harvested!",
            "Sunlight helps plants make food through photosynthesis!",
            "Nutrients in soil help plants grow strong roots."
        ];

        // Game state
        let gameState = {
            score: 0,
            harvested: 0,
            day: 1,
            timeLeft: 120,
            timer: null,
            resources: { water: 100, sunlight: 100, nutrients: 100 },
            plants: [null, null, null],
            selectedPlantType: null,
            currentPot: null,
            targetHarvest: 5
        };

        // Initialize
        function init() {
            renderGarden();
            document.getElementById('startModal').classList.add('active');
        }

        function renderGarden() {
            const garden = document.getElementById('gardenArea');
            garden.innerHTML = '';

            for (let i = 0; i < 3; i++) {
                const pot = document.createElement('div');
                pot.className = 'plant-pot';
                pot.id = `pot-${i}`;

                if (gameState.plants[i]) {
                    pot.innerHTML = renderPlant(gameState.plants[i], i);
                } else {
                    pot.innerHTML = `
                        <div class="plant-name">Empty Pot</div>
                        <div class="plant-stage">Click to plant!</div>
                        <div class="plant-display" style="cursor: pointer" onclick="openPlantSelection(${i})">ü™¥</div>
                    `;
                }

                garden.appendChild(pot);
            }
        }

        function renderPlant(plant, index) {
            const stage = plant.stages[Math.min(plant.currentStage, plant.stages.length - 1)];
            const healthClass = plant.health > 60 ? '' : plant.health > 30 ? 'warning' : 'danger';
            const isReady = plant.currentStage >= plant.stages.length - 1;
            const needsCare = plant.water < 30 || plant.sunlight < 30 || plant.nutrients < 30;

            return `
                <div class="plant-name">${plant.name}</div>
                <div class="plant-stage">Stage ${plant.currentStage + 1}/${plant.stages.length}</div>
                ${isReady ? '<div class="growth-indicator ready">Ready!</div>' :
                  needsCare ? '<div class="growth-indicator needs-care">Needs Care</div>' : ''}
                <div class="plant-display">${stage}</div>
                <div class="health-bar">
                    <div class="health-fill ${healthClass}" style="width: ${plant.health}%"></div>
                </div>
                <div class="plant-actions">
                    <button class="action-btn water" onclick="careForPlant(${index}, 'water')" ${gameState.resources.water < 10 ? 'disabled' : ''}>üíß</button>
                    <button class="action-btn sun" onclick="careForPlant(${index}, 'sunlight')" ${gameState.resources.sunlight < 10 ? 'disabled' : ''}>‚òÄÔ∏è</button>
                    <button class="action-btn fertilize" onclick="careForPlant(${index}, 'nutrients')" ${gameState.resources.nutrients < 10 ? 'disabled' : ''}>üß™</button>
                </div>
                <button class="harvest-btn ${isReady ? 'show' : ''}" onclick="harvestPlant(${index})">üåæ Harvest!</button>
            `;
        }

        function openPlantSelection(potIndex) {
            if (gameState.plants[potIndex]) return;

            gameState.currentPot = potIndex;
            gameState.selectedPlantType = null;

            document.getElementById('potNumber').textContent = potIndex + 1;
            const selection = document.getElementById('plantSelection');
            selection.innerHTML = '';

            plantTypes.forEach(plant => {
                const option = document.createElement('div');
                option.className = 'plant-option';
                option.onclick = () => selectPlantType(plant.id);
                option.id = `option-${plant.id}`;
                option.innerHTML = `
                    <div class="plant-option-emoji">${plant.emoji}</div>
                    <div class="plant-option-name">${plant.name}</div>
                    <div class="plant-option-time">${plant.growTime} stages ‚Ä¢ ${plant.points} pts</div>
                `;
                selection.appendChild(option);
            });

            document.getElementById('confirmPlantBtn').disabled = true;
            document.getElementById('selectModal').classList.add('active');
        }

        function selectPlantType(plantId) {
            gameState.selectedPlantType = plantId;

            document.querySelectorAll('.plant-option').forEach(opt => {
                opt.classList.remove('selected');
            });
            document.getElementById(`option-${plantId}`).classList.add('selected');
            document.getElementById('confirmPlantBtn').disabled = false;
        }

        function confirmPlant() {
            if (!gameState.selectedPlantType || gameState.currentPot === null) return;

            const plantType = plantTypes.find(p => p.id === gameState.selectedPlantType);
            gameState.plants[gameState.currentPot] = {
                ...plantType,
                currentStage: 0,
                health: 100,
                water: 50,
                sunlight: 50,
                nutrients: 50,
                growthProgress: 0
            };

            document.getElementById('selectModal').classList.remove('active');
            renderGarden();
        }

        function startGame() {
            document.getElementById('startModal').classList.remove('active');
            gameState.timer = setInterval(gameLoop, 1000);
            showRandomTip();
        }

        function gameLoop() {
            gameState.timeLeft--;

            // Update day (every 20 seconds)
            const newDay = Math.floor((120 - gameState.timeLeft) / 20) + 1;
            if (newDay !== gameState.day) {
                gameState.day = newDay;
                // Replenish some resources each day
                gameState.resources.water = Math.min(100, gameState.resources.water + 20);
                gameState.resources.sunlight = Math.min(100, gameState.resources.sunlight + 20);
                gameState.resources.nutrients = Math.min(100, gameState.resources.nutrients + 15);
                updateResourceDisplay();
            }

            // Update plants
            gameState.plants.forEach((plant, index) => {
                if (plant && plant.currentStage < plant.stages.length - 1) {
                    // Decay plant stats
                    plant.water = Math.max(0, plant.water - 2);
                    plant.sunlight = Math.max(0, plant.sunlight - 1.5);
                    plant.nutrients = Math.max(0, plant.nutrients - 1);

                    // Calculate health based on care
                    const avgCare = (plant.water + plant.sunlight + plant.nutrients) / 3;
                    if (avgCare > 50) {
                        plant.health = Math.min(100, plant.health + 1);
                    } else if (avgCare < 30) {
                        plant.health = Math.max(0, plant.health - 2);
                    }

                    // Growth progress
                    if (plant.health > 50) {
                        plant.growthProgress += 1;
                        if (plant.growthProgress >= 15) {
                            plant.currentStage++;
                            plant.growthProgress = 0;
                            const display = document.querySelector(`#pot-${index} .plant-display`);
                            if (display) display.classList.add('growing');
                            setTimeout(() => {
                                if (display) display.classList.remove('growing');
                            }, 500);
                        }
                    }

                    // Plant dies if health reaches 0
                    if (plant.health <= 0) {
                        gameState.plants[index] = null;
                    }
                }
            });

            // Update displays
            updateDisplay();
            renderGarden();

            // Check win/lose
            if (gameState.harvested >= gameState.targetHarvest) {
                endGame(true);
            } else if (gameState.timeLeft <= 0) {
                endGame(false);
            }
        }

        function careForPlant(index, type) {
            const plant = gameState.plants[index];
            if (!plant) return;

            const cost = 10;
            if (gameState.resources[type] < cost) return;

            gameState.resources[type] -= cost;

            switch (type) {
                case 'water':
                    plant.water = Math.min(100, plant.water + 30);
                    break;
                case 'sunlight':
                    plant.sunlight = Math.min(100, plant.sunlight + 25);
                    break;
                case 'nutrients':
                    plant.nutrients = Math.min(100, plant.nutrients + 25);
                    break;
            }

            updateResourceDisplay();
            renderGarden();
        }

        function harvestPlant(index) {
            const plant = gameState.plants[index];
            if (!plant || plant.currentStage < plant.stages.length - 1) return;

            // Calculate points with health bonus
            const healthBonus = Math.floor(plant.health / 10) * 10;
            const points = plant.points + healthBonus;

            gameState.score += points;
            gameState.harvested++;
            gameState.plants[index] = null;

            updateDisplay();
            renderGarden();
            showRandomTip();
        }

        function updateDisplay() {
            document.getElementById('scoreDisplay').textContent = gameState.score;
            document.getElementById('harvestDisplay').textContent = gameState.harvested;
            document.getElementById('dayDisplay').textContent = gameState.day;

            const minutes = Math.floor(gameState.timeLeft / 60);
            const seconds = gameState.timeLeft % 60;
            document.getElementById('timeDisplay').textContent = `${minutes}:${seconds.toString().padStart(2, '0')}`;
        }

        function updateResourceDisplay() {
            document.getElementById('waterFill').style.width = gameState.resources.water + '%';
            document.getElementById('sunFill').style.width = gameState.resources.sunlight + '%';
            document.getElementById('nutrientFill').style.width = gameState.resources.nutrients + '%';
        }

        function showRandomTip() {
            const tip = tips[Math.floor(Math.random() * tips.length)];
            document.getElementById('tipText').textContent = tip;
        }

        function endGame(won) {
            clearInterval(gameState.timer);

            const emoji = won ? 'üèÜ' : 'üå±';
            const title = won ? 'Champion Gardener!' : 'Season Over';
            const message = won
                ? 'You grew all the plants! Amazing green thumb!'
                : `You harvested ${gameState.harvested} of ${gameState.targetHarvest} plants. Keep practicing!`;

            document.getElementById('gameOverEmoji').textContent = emoji;
            document.getElementById('gameOverTitle').textContent = title;
            document.getElementById('gameOverMessage').textContent = message;

            const breakdown = document.getElementById('scoreBreakdown');
            breakdown.innerHTML = `
                <div class="score-row"><span>Plants Harvested:</span><span>${gameState.harvested}</span></div>
                <div class="score-row"><span>Days Survived:</span><span>${gameState.day}</span></div>
                <div class="score-row"><span>Base Points:</span><span>${gameState.score}</span></div>
                ${won ? `<div class="score-row"><span>Completion Bonus:</span><span>+200</span></div>` : ''}
                <div class="score-row"><span>Final Score:</span><span>${gameState.score + (won ? 200 : 0)}</span></div>
            `;

            document.getElementById('gameOverModal').classList.add('active');
        }

        function restartGame() {
            gameState = {
                score: 0,
                harvested: 0,
                day: 1,
                timeLeft: 120,
                timer: null,
                resources: { water: 100, sunlight: 100, nutrients: 100 },
                plants: [null, null, null],
                selectedPlantType: null,
                currentPot: null,
                targetHarvest: 5
            };

            document.querySelectorAll('.modal').forEach(m => m.classList.remove('active'));
            updateDisplay();
            updateResourceDisplay();
            renderGarden();
            document.getElementById('startModal').classList.add('active');
        }

        window.onload = init;
    </script>
</body>
</html>
