<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pollution Solution Squad - Learning Adventures</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(180deg, #87CEEB 0%, #98FB98 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 10px;
        }

        .game-container {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.2);
            width: 100%;
            max-width: 900px;
            padding: 20px;
        }

        .game-header {
            text-align: center;
            margin-bottom: 15px;
        }

        .game-title {
            font-size: 2rem;
            font-weight: bold;
            color: #2e7d32;
            margin-bottom: 5px;
        }

        .game-subtitle {
            font-size: 1rem;
            color: #666;
        }

        .stats-bar {
            display: flex;
            justify-content: space-around;
            background: linear-gradient(135deg, #e8f5e9, #c8e6c9);
            padding: 12px;
            border-radius: 15px;
            margin-bottom: 15px;
            border: 2px solid #4caf50;
            flex-wrap: wrap;
            gap: 5px;
        }

        .stat {
            text-align: center;
            min-width: 60px;
        }

        .stat-value {
            font-size: 1.3rem;
            font-weight: bold;
            color: #2e7d32;
        }

        .stat-label {
            font-size: 0.75rem;
            color: #666;
        }

        .environment-display {
            position: relative;
            height: 300px;
            border-radius: 15px;
            overflow: hidden;
            margin-bottom: 15px;
            cursor: pointer;
        }

        .environment-layer {
            position: absolute;
            width: 100%;
            height: 100%;
            transition: all 0.5s;
        }

        .sky {
            background: linear-gradient(180deg, #87CEEB 0%, #b0e0e6 100%);
        }

        .sky.polluted {
            background: linear-gradient(180deg, #9e9e9e 0%, #bdbdbd 100%);
        }

        .ground {
            position: absolute;
            bottom: 0;
            width: 100%;
            height: 40%;
            background: linear-gradient(180deg, #8bc34a 0%, #689f38 100%);
        }

        .ground.polluted {
            background: linear-gradient(180deg, #795548 0%, #5d4037 100%);
        }

        .water {
            position: absolute;
            bottom: 0;
            right: 0;
            width: 40%;
            height: 30%;
            background: linear-gradient(180deg, #29b6f6 0%, #0288d1 100%);
            border-radius: 50% 0 0 0;
        }

        .water.polluted {
            background: linear-gradient(180deg, #795548 0%, #4e342e 100%);
        }

        .pollution-item {
            position: absolute;
            font-size: 1.8rem;
            cursor: pointer;
            transition: transform 0.2s;
            z-index: 10;
        }

        .pollution-item:hover {
            transform: scale(1.3);
        }

        .pollution-item.collected {
            animation: collect 0.5s forwards;
        }

        @keyframes collect {
            0% { transform: scale(1); opacity: 1; }
            50% { transform: scale(1.5) rotate(360deg); }
            100% { transform: scale(0); opacity: 0; }
        }

        .wildlife {
            position: absolute;
            font-size: 2rem;
            transition: all 0.5s;
            opacity: 0;
        }

        .wildlife.visible {
            opacity: 1;
        }

        .cleanup-tools {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-bottom: 15px;
            flex-wrap: wrap;
        }

        .tool-btn {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 10px 15px;
            border: 3px solid #e0e0e0;
            border-radius: 15px;
            background: white;
            cursor: pointer;
            transition: all 0.2s;
        }

        .tool-btn:hover {
            border-color: #4caf50;
            transform: translateY(-3px);
        }

        .tool-btn.active {
            border-color: #2e7d32;
            background: #e8f5e9;
        }

        .tool-emoji {
            font-size: 2rem;
        }

        .tool-name {
            font-size: 0.8rem;
            font-weight: bold;
            color: #333;
        }

        .tool-targets {
            font-size: 0.65rem;
            color: #666;
        }

        .health-bar {
            margin-bottom: 15px;
        }

        .health-label {
            display: flex;
            justify-content: space-between;
            margin-bottom: 5px;
        }

        .health-label span {
            font-size: 0.9rem;
            font-weight: bold;
        }

        .health-track {
            height: 20px;
            background: #e0e0e0;
            border-radius: 10px;
            overflow: hidden;
        }

        .health-fill {
            height: 100%;
            background: linear-gradient(90deg, #f44336 0%, #ff9800 25%, #ffeb3b 50%, #8bc34a 75%, #4caf50 100%);
            transition: width 0.5s;
            border-radius: 10px;
        }

        .info-panel {
            background: #e3f2fd;
            border: 2px solid #2196f3;
            border-radius: 10px;
            padding: 12px;
            text-align: center;
        }

        .info-title {
            color: #1565c0;
            font-weight: bold;
            margin-bottom: 5px;
        }

        .info-text {
            color: #1976d2;
            font-size: 0.9rem;
        }

        /* Modals */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }

        .modal.active {
            display: flex;
        }

        .modal-content {
            background: white;
            border-radius: 20px;
            padding: 30px;
            text-align: center;
            max-width: 450px;
            width: 90%;
            animation: popIn 0.3s ease;
        }

        @keyframes popIn {
            from { transform: scale(0.8); opacity: 0; }
            to { transform: scale(1); opacity: 1; }
        }

        .modal-title {
            font-size: 1.8rem;
            color: #2e7d32;
            margin-bottom: 15px;
        }

        .modal-emoji {
            font-size: 4rem;
            margin-bottom: 15px;
        }

        .modal-text {
            font-size: 1rem;
            color: #666;
            margin-bottom: 15px;
            line-height: 1.6;
        }

        .btn {
            background: linear-gradient(135deg, #4caf50, #2e7d32);
            color: white;
            border: none;
            padding: 15px 35px;
            font-size: 1.1rem;
            border-radius: 25px;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
            margin: 5px;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(76, 175, 80, 0.4);
        }

        .pollution-types {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin: 15px 0;
            flex-wrap: wrap;
        }

        .pollution-type {
            text-align: center;
        }

        .pollution-emoji {
            font-size: 1.5rem;
        }

        .pollution-name {
            font-size: 0.7rem;
            color: #666;
        }

        .level-badge {
            display: inline-block;
            background: linear-gradient(135deg, #4caf50, #8bc34a);
            color: white;
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 0.9rem;
            margin-bottom: 10px;
        }

        .score-breakdown {
            text-align: left;
            margin: 15px 0;
            padding: 10px;
            background: #f5f5f5;
            border-radius: 10px;
        }

        .score-row {
            display: flex;
            justify-content: space-between;
            padding: 5px 0;
            border-bottom: 1px dashed #ddd;
        }

        .score-row:last-child {
            border-bottom: none;
            font-weight: bold;
            color: #2e7d32;
        }

        /* Responsive */
        @media (max-width: 600px) {
            .environment-display {
                height: 250px;
            }

            .cleanup-tools {
                gap: 5px;
            }

            .tool-btn {
                padding: 8px 10px;
            }

            .tool-emoji {
                font-size: 1.5rem;
            }

            .game-title {
                font-size: 1.5rem;
            }
        }
    </style>
</head>
<body>
    <div class="game-container">
        <div class="game-header">
            <h1 class="game-title">‚ôªÔ∏è Pollution Solution Squad üåç</h1>
            <p class="game-subtitle">Clean up the environment and restore nature!</p>
        </div>

        <div class="stats-bar">
            <div class="stat">
                <div class="stat-value" id="scoreDisplay">0</div>
                <div class="stat-label">Score</div>
            </div>
            <div class="stat">
                <div class="stat-value" id="cleanedDisplay">0</div>
                <div class="stat-label">Cleaned</div>
            </div>
            <div class="stat">
                <div class="stat-value" id="levelDisplay">1</div>
                <div class="stat-label">Level</div>
            </div>
            <div class="stat">
                <div class="stat-value" id="timeDisplay">60</div>
                <div class="stat-label">Time</div>
            </div>
            <div class="stat">
                <div class="stat-value" id="wildlifeDisplay">0</div>
                <div class="stat-label">Wildlife</div>
            </div>
        </div>

        <div class="health-bar">
            <div class="health-label">
                <span>üåç Environment Health</span>
                <span id="healthPercent">30%</span>
            </div>
            <div class="health-track">
                <div class="health-fill" id="healthFill" style="width: 30%"></div>
            </div>
        </div>

        <div class="environment-display" id="environment">
            <div class="environment-layer sky polluted" id="sky"></div>
            <div class="environment-layer ground polluted" id="ground"></div>
            <div class="environment-layer water polluted" id="water"></div>
            <!-- Pollution items added by JS -->
            <!-- Wildlife added by JS -->
        </div>

        <div class="cleanup-tools">
            <button class="tool-btn active" id="tool-trash" onclick="selectTool('trash')">
                <span class="tool-emoji">üßπ</span>
                <span class="tool-name">Trash Picker</span>
                <span class="tool-targets">ü•§üçîüì¶</span>
            </button>
            <button class="tool-btn" id="tool-oil" onclick="selectTool('oil')">
                <span class="tool-emoji">üßΩ</span>
                <span class="tool-name">Oil Cleaner</span>
                <span class="tool-targets">üõ¢Ô∏è‚ö´üíß</span>
            </button>
            <button class="tool-btn" id="tool-air" onclick="selectTool('air')">
                <span class="tool-emoji">üå¨Ô∏è</span>
                <span class="tool-name">Air Purifier</span>
                <span class="tool-targets">üí®üè≠‚òÅÔ∏è</span>
            </button>
            <button class="tool-btn" id="tool-plant" onclick="selectTool('plant')">
                <span class="tool-emoji">üå±</span>
                <span class="tool-name">Tree Planter</span>
                <span class="tool-targets">üå≥üå≤üå¥</span>
            </button>
        </div>

        <div class="info-panel" id="infoPanel">
            <div class="info-title">üéØ Mission Briefing</div>
            <div class="info-text" id="infoText">Select a cleanup tool and click on pollution to clean it up!</div>
        </div>
    </div>

    <!-- Start Modal -->
    <div class="modal active" id="startModal">
        <div class="modal-content">
            <div class="modal-emoji">‚ôªÔ∏èüåç</div>
            <h2 class="modal-title">Pollution Solution Squad</h2>
            <p class="modal-text">Join the cleanup crew and save the environment!</p>

            <div class="pollution-types">
                <div class="pollution-type">
                    <div class="pollution-emoji">ü•§üì¶</div>
                    <div class="pollution-name">Trash</div>
                </div>
                <div class="pollution-type">
                    <div class="pollution-emoji">üõ¢Ô∏è‚ö´</div>
                    <div class="pollution-name">Oil Spills</div>
                </div>
                <div class="pollution-type">
                    <div class="pollution-emoji">üí®üè≠</div>
                    <div class="pollution-name">Air Pollution</div>
                </div>
            </div>

            <p class="modal-text">
                <strong>How to Play:</strong><br>
                üßπ Select the right tool for each pollution type<br>
                üñ±Ô∏è Click on pollution to clean it<br>
                üåø Restore the environment to bring back wildlife!
            </p>

            <button class="btn" onclick="startGame()">Start Cleanup!</button>
        </div>
    </div>

    <!-- Level Complete Modal -->
    <div class="modal" id="levelModal">
        <div class="modal-content">
            <div class="modal-emoji">üåü</div>
            <h2 class="modal-title">Area Cleaned!</h2>
            <div class="level-badge" id="levelBadge">Level 1 Complete</div>
            <div class="score-breakdown" id="levelBreakdown"></div>
            <p class="modal-text" id="levelFact"></p>
            <button class="btn" onclick="nextLevel()">Next Area</button>
        </div>
    </div>

    <!-- Game Complete Modal -->
    <div class="modal" id="completeModal">
        <div class="modal-content">
            <div class="modal-emoji">üèÜ</div>
            <h2 class="modal-title">Environmental Hero!</h2>
            <p class="modal-text">You've cleaned up all areas!</p>
            <div class="score-breakdown" id="finalBreakdown"></div>
            <p class="modal-text" id="finalFact"></p>
            <button class="btn" onclick="restartGame()">Play Again</button>
        </div>
    </div>

    <script>
        // Game data
        const pollutionTypes = {
            trash: {
                items: ['ü•§', 'üçî', 'üì¶', 'üõçÔ∏è', 'üßÉ', 'üç´', 'üì∞', 'ü•°'],
                tool: 'trash',
                points: 10,
                message: 'Trash collected! This can be recycled or disposed properly.'
            },
            oil: {
                items: ['üõ¢Ô∏è', '‚ö´', 'üíß'],
                tool: 'oil',
                points: 20,
                message: 'Oil cleaned! Oil spills harm marine life.'
            },
            air: {
                items: ['üí®', 'üè≠', '‚òÅÔ∏è', 'üí≠'],
                tool: 'air',
                points: 15,
                message: 'Air purified! Trees help clean our air naturally.'
            }
        };

        const wildlife = [
            { emoji: 'ü¶ã', x: 20, y: 30 },
            { emoji: 'üê¶', x: 70, y: 20 },
            { emoji: 'üêøÔ∏è', x: 30, y: 70 },
            { emoji: 'üê∞', x: 80, y: 75 },
            { emoji: 'ü¶ä', x: 15, y: 65 },
            { emoji: 'üê∏', x: 75, y: 85 },
            { emoji: 'ü¶Ü', x: 85, y: 80 },
            { emoji: 'üêù', x: 50, y: 25 }
        ];

        const facts = [
            "üåç Over 8 million tons of plastic enter our oceans every year!",
            "üå≥ One tree can absorb up to 48 pounds of CO2 per year!",
            "‚ôªÔ∏è Recycling one aluminum can saves enough energy to run a TV for 3 hours!",
            "üêã Plastic pollution kills over 1 million sea birds and 100,000 marine animals yearly.",
            "üíß Clean water is essential - only 3% of Earth's water is freshwater!",
            "üåø Planting trees is one of the best ways to fight climate change!",
            "üêù Bees pollinate 80% of flowering plants - they need clean environments!",
            "üîã Recycling one glass bottle saves enough energy to power a computer for 25 minutes!"
        ];

        const levels = [
            { trash: 8, oil: 2, air: 4, time: 60, target: 80 },
            { trash: 10, oil: 4, air: 6, time: 75, target: 85 },
            { trash: 12, oil: 6, air: 8, time: 90, target: 90 }
        ];

        // Game state
        let gameState = {
            score: 0,
            cleaned: 0,
            level: 0,
            health: 30,
            timeLeft: 60,
            selectedTool: 'trash',
            pollution: [],
            wildlifeVisible: 0,
            timer: null,
            treesPlanted: 0
        };

        function init() {
            document.getElementById('startModal').classList.add('active');
        }

        function startGame() {
            document.getElementById('startModal').classList.remove('active');
            loadLevel();
            startTimer();
        }

        function loadLevel() {
            const level = levels[gameState.level];
            gameState.timeLeft = level.time;
            gameState.pollution = [];
            gameState.cleaned = 0;
            gameState.wildlifeVisible = 0;

            const env = document.getElementById('environment');

            // Clear previous pollution and wildlife
            env.querySelectorAll('.pollution-item, .wildlife').forEach(el => el.remove());

            // Generate pollution
            generatePollution('trash', level.trash);
            generatePollution('oil', level.oil);
            generatePollution('air', level.air);

            // Add wildlife (hidden initially)
            wildlife.forEach((animal, index) => {
                const el = document.createElement('div');
                el.className = 'wildlife';
                el.textContent = animal.emoji;
                el.style.left = animal.x + '%';
                el.style.top = animal.y + '%';
                el.id = `wildlife-${index}`;
                env.appendChild(el);
            });

            updateDisplay();
            updateEnvironmentVisuals();
        }

        function generatePollution(type, count) {
            const env = document.getElementById('environment');
            const data = pollutionTypes[type];

            for (let i = 0; i < count; i++) {
                const item = {
                    id: `pollution-${gameState.pollution.length}`,
                    type: type,
                    emoji: data.items[Math.floor(Math.random() * data.items.length)],
                    x: 5 + Math.random() * 85,
                    y: type === 'air' ? 10 + Math.random() * 30 : 50 + Math.random() * 40
                };

                // Adjust for water area
                if (type === 'oil' && Math.random() > 0.5) {
                    item.x = 60 + Math.random() * 35;
                    item.y = 70 + Math.random() * 25;
                }

                gameState.pollution.push(item);

                const el = document.createElement('div');
                el.className = 'pollution-item';
                el.id = item.id;
                el.textContent = item.emoji;
                el.style.left = item.x + '%';
                el.style.top = item.y + '%';
                el.onclick = () => cleanPollution(item.id);
                env.appendChild(el);
            }
        }

        function selectTool(tool) {
            gameState.selectedTool = tool;
            document.querySelectorAll('.tool-btn').forEach(btn => btn.classList.remove('active'));
            document.getElementById(`tool-${tool}`).classList.add('active');

            const messages = {
                trash: 'Click on trash items (ü•§üì¶üçî) to pick them up!',
                oil: 'Click on oil spills (üõ¢Ô∏è‚ö´) to clean them!',
                air: 'Click on air pollution (üí®üè≠) to purify!',
                plant: 'Click anywhere to plant a tree! üå≥'
            };
            document.getElementById('infoText').textContent = messages[tool];
        }

        function cleanPollution(id) {
            const item = gameState.pollution.find(p => p.id === id);
            if (!item) return;

            // Check if correct tool
            if (gameState.selectedTool === 'plant') {
                plantTree();
                return;
            }

            if (item.type !== gameState.selectedTool) {
                document.getElementById('infoText').textContent =
                    `‚ùå Wrong tool! Use ${item.type === 'trash' ? 'üßπ Trash Picker' :
                    item.type === 'oil' ? 'üßΩ Oil Cleaner' : 'üå¨Ô∏è Air Purifier'} for this!`;
                return;
            }

            // Clean the pollution
            const el = document.getElementById(id);
            el.classList.add('collected');

            setTimeout(() => {
                el.remove();
            }, 500);

            // Remove from array
            gameState.pollution = gameState.pollution.filter(p => p.id !== id);

            // Update stats
            const points = pollutionTypes[item.type].points;
            gameState.score += points;
            gameState.cleaned++;
            gameState.health = Math.min(100, gameState.health + 5);

            // Show message
            document.getElementById('infoText').textContent =
                `‚úÖ +${points} pts! ${pollutionTypes[item.type].message}`;

            updateDisplay();
            updateEnvironmentVisuals();
            checkWildlife();
            checkLevelComplete();
        }

        function plantTree() {
            if (gameState.treesPlanted >= 3) {
                document.getElementById('infoText').textContent = 'üå≥ Maximum trees planted for this level!';
                return;
            }

            gameState.treesPlanted++;
            gameState.score += 25;
            gameState.health = Math.min(100, gameState.health + 8);

            // Add tree emoji to environment
            const env = document.getElementById('environment');
            const tree = document.createElement('div');
            tree.className = 'pollution-item';
            tree.textContent = ['üå≥', 'üå≤', 'üå¥'][Math.floor(Math.random() * 3)];
            tree.style.left = (20 + Math.random() * 60) + '%';
            tree.style.top = (60 + Math.random() * 30) + '%';
            tree.style.fontSize = '2.5rem';
            tree.style.cursor = 'default';
            tree.style.animation = 'none';
            env.appendChild(tree);

            document.getElementById('infoText').textContent =
                'üå≥ +25 pts! Tree planted! Trees absorb CO2 and produce oxygen!';

            updateDisplay();
            updateEnvironmentVisuals();
            checkWildlife();
        }

        function updateDisplay() {
            document.getElementById('scoreDisplay').textContent = gameState.score;
            document.getElementById('cleanedDisplay').textContent = gameState.cleaned;
            document.getElementById('levelDisplay').textContent = gameState.level + 1;
            document.getElementById('timeDisplay').textContent = gameState.timeLeft;
            document.getElementById('healthPercent').textContent = gameState.health + '%';
            document.getElementById('healthFill').style.width = gameState.health + '%';
            document.getElementById('wildlifeDisplay').textContent = gameState.wildlifeVisible;
        }

        function updateEnvironmentVisuals() {
            const health = gameState.health;

            document.getElementById('sky').classList.toggle('polluted', health < 70);
            document.getElementById('ground').classList.toggle('polluted', health < 50);
            document.getElementById('water').classList.toggle('polluted', health < 60);
        }

        function checkWildlife() {
            // Show wildlife based on health
            const thresholds = [40, 50, 60, 70, 75, 80, 85, 90];

            thresholds.forEach((threshold, index) => {
                const el = document.getElementById(`wildlife-${index}`);
                if (el && gameState.health >= threshold) {
                    if (!el.classList.contains('visible')) {
                        el.classList.add('visible');
                        gameState.wildlifeVisible++;
                        document.getElementById('wildlifeDisplay').textContent = gameState.wildlifeVisible;
                    }
                }
            });
        }

        function checkLevelComplete() {
            const level = levels[gameState.level];
            if (gameState.health >= level.target && gameState.pollution.length === 0) {
                levelComplete();
            }
        }

        function startTimer() {
            gameState.timer = setInterval(() => {
                gameState.timeLeft--;
                document.getElementById('timeDisplay').textContent = gameState.timeLeft;

                if (gameState.timeLeft <= 0) {
                    clearInterval(gameState.timer);
                    if (gameState.pollution.length === 0) {
                        levelComplete();
                    } else {
                        gameOver();
                    }
                }
            }, 1000);
        }

        function levelComplete() {
            clearInterval(gameState.timer);

            const level = levels[gameState.level];
            const timeBonus = gameState.timeLeft * 2;
            const wildlifeBonus = gameState.wildlifeVisible * 15;
            const treeBonus = gameState.treesPlanted * 25;

            gameState.score += timeBonus + wildlifeBonus;

            document.getElementById('levelBadge').textContent = `Level ${gameState.level + 1} Complete`;
            document.getElementById('levelBreakdown').innerHTML = `
                <div class="score-row"><span>Pollution Cleaned:</span><span>${gameState.cleaned}</span></div>
                <div class="score-row"><span>Time Bonus:</span><span>+${timeBonus}</span></div>
                <div class="score-row"><span>Wildlife Bonus:</span><span>+${wildlifeBonus}</span></div>
                <div class="score-row"><span>Trees Planted:</span><span>${gameState.treesPlanted}</span></div>
                <div class="score-row"><span>Total Score:</span><span>${gameState.score}</span></div>
            `;
            document.getElementById('levelFact').textContent = facts[Math.floor(Math.random() * facts.length)];

            if (gameState.level < levels.length - 1) {
                document.getElementById('levelModal').classList.add('active');
            } else {
                showVictory();
            }
        }

        function nextLevel() {
            document.getElementById('levelModal').classList.remove('active');
            gameState.level++;
            gameState.treesPlanted = 0;
            gameState.health = 30;
            loadLevel();
            startTimer();
        }

        function gameOver() {
            document.getElementById('finalBreakdown').innerHTML = `
                <div class="score-row"><span>Final Score:</span><span>${gameState.score}</span></div>
                <div class="score-row"><span>Areas Cleaned:</span><span>${gameState.level}</span></div>
            `;
            document.getElementById('finalFact').textContent = "Keep trying! Every cleanup action helps the environment!";
            document.getElementById('completeModal').querySelector('.modal-title').textContent = 'Time\'s Up!';
            document.getElementById('completeModal').querySelector('.modal-emoji').textContent = '‚è∞';
            document.getElementById('completeModal').classList.add('active');
        }

        function showVictory() {
            document.getElementById('finalBreakdown').innerHTML = `
                <div class="score-row"><span>Total Score:</span><span>${gameState.score}</span></div>
                <div class="score-row"><span>Areas Restored:</span><span>${levels.length}</span></div>
                <div class="score-row"><span>Wildlife Saved:</span><span>${gameState.wildlifeVisible}</span></div>
            `;
            document.getElementById('finalFact').textContent = facts[Math.floor(Math.random() * facts.length)];
            document.getElementById('completeModal').classList.add('active');
        }

        function restartGame() {
            gameState = {
                score: 0,
                cleaned: 0,
                level: 0,
                health: 30,
                timeLeft: 60,
                selectedTool: 'trash',
                pollution: [],
                wildlifeVisible: 0,
                timer: null,
                treesPlanted: 0
            };

            document.querySelectorAll('.modal').forEach(m => m.classList.remove('active'));
            selectTool('trash');
            document.getElementById('startModal').classList.add('active');
        }

        window.onload = init;
    </script>
</body>
</html>
