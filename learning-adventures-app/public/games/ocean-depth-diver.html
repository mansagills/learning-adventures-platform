<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="title" content="Ocean Depth Diver" />
    <meta
      name="description"
      content="Dive deep into the ocean and discover amazing marine life at different depths"
    />
    <meta name="content-type" content="game" />
    <meta name="subject" content="science" />
    <meta name="grade-level" content="3,4,5" />
    <meta name="difficulty" content="medium" />
    <meta
      name="skills"
      content="Marine Biology,Ocean Zones,Ecosystems,Wildlife"
    />
    <meta name="estimated-time" content="15-20 mins" />
    <title>Ocean Depth Diver - Learning Adventures</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        min-height: 100vh;
        overflow-x: hidden;
        transition: background 1s ease;
      }

      .game-container {
        max-width: 900px;
        margin: 0 auto;
        padding: 20px;
        min-height: 100vh;
      }

      .game-header {
        text-align: center;
        margin-bottom: 20px;
        background: rgba(0, 0, 0, 0.3);
        padding: 20px;
        border-radius: 20px;
        color: white;
        backdrop-filter: blur(10px);
      }

      .game-header h1 {
        font-size: 2.2em;
        margin-bottom: 5px;
        text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
      }

      .stats-bar {
        display: flex;
        justify-content: space-around;
        flex-wrap: wrap;
        gap: 10px;
        margin-top: 15px;
      }

      .stat {
        background: rgba(255, 255, 255, 0.2);
        padding: 10px 20px;
        border-radius: 25px;
        font-weight: bold;
      }

      .depth-display {
        text-align: center;
        margin: 20px 0;
      }

      .depth-meter {
        width: 60px;
        height: 300px;
        background: rgba(0, 0, 0, 0.3);
        border-radius: 30px;
        position: fixed;
        left: 20px;
        top: 50%;
        transform: translateY(-50%);
        padding: 5px;
        display: flex;
        flex-direction: column;
        justify-content: flex-end;
      }

      .depth-fill {
        background: linear-gradient(to top, #00008b, #0000cd, #4169e1, #87ceeb);
        border-radius: 25px;
        transition: height 0.5s ease;
        position: relative;
      }

      .depth-marker {
        position: absolute;
        left: 70px;
        font-size: 0.8em;
        color: white;
        white-space: nowrap;
        background: rgba(0, 0, 0, 0.5);
        padding: 2px 8px;
        border-radius: 10px;
      }

      .submarine {
        position: fixed;
        left: 100px;
        font-size: 3em;
        transition: top 1s ease;
        filter: drop-shadow(0 5px 10px rgba(0, 0, 0, 0.3));
        z-index: 100;
        animation: bobbing 2s ease-in-out infinite;
      }

      @keyframes bobbing {
        0%,
        100% {
          transform: translateX(0);
        }
        50% {
          transform: translateX(10px);
        }
      }

      .dive-controls {
        display: flex;
        justify-content: center;
        gap: 20px;
        margin: 20px 0;
        flex-wrap: wrap;
      }

      .dive-btn {
        padding: 15px 30px;
        border: none;
        border-radius: 30px;
        cursor: pointer;
        font-size: 1.2em;
        font-weight: bold;
        transition: all 0.3s;
        display: flex;
        align-items: center;
        gap: 10px;
      }

      .dive-btn.up {
        background: linear-gradient(135deg, #87ceeb, #4169e1);
        color: white;
      }

      .dive-btn.down {
        background: linear-gradient(135deg, #4169e1, #00008b);
        color: white;
      }

      .dive-btn:hover:not(:disabled) {
        transform: scale(1.05);
        box-shadow: 0 5px 20px rgba(0, 0, 0, 0.3);
      }

      .dive-btn:disabled {
        opacity: 0.5;
        cursor: not-allowed;
      }

      .zone-info {
        background: rgba(0, 0, 0, 0.4);
        border-radius: 20px;
        padding: 20px;
        margin: 20px 0;
        color: white;
        backdrop-filter: blur(10px);
        text-align: center;
      }

      .zone-info h2 {
        font-size: 1.8em;
        margin-bottom: 10px;
      }

      .zone-info .depth-range {
        font-size: 1.1em;
        opacity: 0.8;
        margin-bottom: 15px;
      }

      .zone-info p {
        line-height: 1.6;
      }

      .creatures-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
        gap: 15px;
        margin-top: 20px;
      }

      .creature-card {
        background: rgba(255, 255, 255, 0.15);
        border-radius: 15px;
        padding: 15px;
        text-align: center;
        cursor: pointer;
        transition: all 0.3s;
        border: 2px solid transparent;
      }

      .creature-card:hover {
        transform: translateY(-5px);
        background: rgba(255, 255, 255, 0.25);
      }

      .creature-card.discovered {
        border-color: #ffd700;
        animation: discovered 0.5s ease-out;
      }

      .creature-card.not-discovered {
        opacity: 0.5;
      }

      @keyframes discovered {
        0% {
          transform: scale(1.2);
        }
        100% {
          transform: scale(1);
        }
      }

      .creature-card .emoji {
        font-size: 3em;
        margin-bottom: 10px;
      }

      .creature-card .name {
        font-weight: bold;
        font-size: 1em;
      }

      .creature-modal {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: rgba(0, 0, 0, 0.8);
        justify-content: center;
        align-items: center;
        z-index: 1000;
        padding: 20px;
      }

      .creature-modal.active {
        display: flex;
      }

      .creature-content {
        background: linear-gradient(135deg, #1a3a52, #0d253a);
        border-radius: 25px;
        padding: 30px;
        max-width: 500px;
        width: 100%;
        color: white;
        animation: modalPop 0.3s ease-out;
        border: 3px solid rgba(255, 255, 255, 0.2);
      }

      @keyframes modalPop {
        from {
          transform: scale(0.8);
          opacity: 0;
        }
        to {
          transform: scale(1);
          opacity: 1;
        }
      }

      .creature-content h2 {
        display: flex;
        align-items: center;
        gap: 15px;
        margin-bottom: 15px;
      }

      .creature-content .big-emoji {
        font-size: 3em;
      }

      .creature-content p {
        line-height: 1.7;
        margin-bottom: 15px;
      }

      .fact-box {
        background: rgba(255, 255, 255, 0.1);
        padding: 15px;
        border-radius: 15px;
        margin: 15px 0;
        border-left: 4px solid #00ced1;
      }

      .fact-box h4 {
        color: #00ced1;
        margin-bottom: 8px;
      }

      .close-btn {
        display: block;
        width: 100%;
        padding: 15px;
        border: none;
        border-radius: 25px;
        background: linear-gradient(135deg, #00ced1, #008b8b);
        color: white;
        font-size: 1.1em;
        font-weight: bold;
        cursor: pointer;
        margin-top: 15px;
        transition: all 0.3s;
      }

      .close-btn:hover {
        transform: scale(1.02);
      }

      .collection-panel {
        background: rgba(0, 0, 0, 0.4);
        border-radius: 20px;
        padding: 20px;
        margin-top: 20px;
        color: white;
      }

      .collection-panel h3 {
        text-align: center;
        margin-bottom: 15px;
        font-size: 1.3em;
      }

      .progress-bar {
        width: 100%;
        height: 15px;
        background: rgba(255, 255, 255, 0.2);
        border-radius: 10px;
        overflow: hidden;
        margin: 10px 0;
      }

      .progress-fill {
        height: 100%;
        background: linear-gradient(90deg, #00ced1, #ffd700);
        border-radius: 10px;
        transition: width 0.5s ease;
      }

      /* Zone-specific backgrounds */
      .zone-sunlight {
        background: linear-gradient(180deg, #87ceeb 0%, #4169e1 100%);
      }
      .zone-twilight {
        background: linear-gradient(180deg, #4169e1 0%, #191970 100%);
      }
      .zone-midnight {
        background: linear-gradient(180deg, #191970 0%, #0a0a2e 100%);
      }
      .zone-abyssal {
        background: linear-gradient(180deg, #0a0a2e 0%, #000010 100%);
      }
      .zone-hadal {
        background: linear-gradient(180deg, #000010 0%, #000000 100%);
      }

      .bubble {
        position: fixed;
        background: rgba(255, 255, 255, 0.3);
        border-radius: 50%;
        animation: rise 4s ease-in infinite;
        pointer-events: none;
      }

      @keyframes rise {
        0% {
          transform: translateY(0) scale(1);
          opacity: 0.6;
        }
        100% {
          transform: translateY(-400px) scale(0.5);
          opacity: 0;
        }
      }

      /* Modal styles */
      .modal {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: rgba(0, 0, 0, 0.8);
        justify-content: center;
        align-items: center;
        z-index: 1000;
        padding: 20px;
      }

      .modal.active {
        display: flex;
      }

      .modal-content {
        background: linear-gradient(135deg, #1a4a6e, #0d3050);
        border-radius: 25px;
        padding: 30px;
        max-width: 500px;
        width: 100%;
        text-align: center;
        color: white;
        animation: modalPop 0.3s ease-out;
      }

      .modal-content h2 {
        margin-bottom: 20px;
        font-size: 1.8em;
      }

      .modal-content p {
        margin-bottom: 15px;
        line-height: 1.6;
      }

      .modal-btn {
        padding: 15px 40px;
        border: none;
        border-radius: 30px;
        cursor: pointer;
        font-size: 1.2em;
        font-weight: bold;
        background: linear-gradient(135deg, #00ced1, #008b8b);
        color: white;
        transition: all 0.3s;
        margin: 5px;
      }

      .modal-btn:hover {
        transform: scale(1.05);
      }

      .swimming-creature {
        position: fixed;
        font-size: 2em;
        animation: swim 8s linear infinite;
        pointer-events: none;
        z-index: 50;
      }

      @keyframes swim {
        0% {
          transform: translateX(-100px);
        }
        100% {
          transform: translateX(calc(100vw + 100px));
        }
      }

      @media (max-width: 768px) {
        .depth-meter {
          display: none;
        }

        .submarine {
          left: 20px;
          font-size: 2em;
        }

        .game-header h1 {
          font-size: 1.6em;
        }

        .creatures-grid {
          grid-template-columns: repeat(2, 1fr);
        }
      }
    </style>
  </head>
  <body class="zone-sunlight">
    <div class="game-container">
      <header class="game-header">
        <h1>ü§ø Ocean Depth Diver</h1>
        <p>Explore the ocean zones and discover marine life!</p>
        <div class="stats-bar">
          <div class="stat">
            üê† Creatures: <span id="creatureCount">0</span>/<span
              id="totalCreatures"
              >0</span
            >
          </div>
          <div class="stat">‚≠ê Score: <span id="score">0</span></div>
          <div class="stat">üåä Depth: <span id="currentDepth">0</span>m</div>
        </div>
      </header>

      <div class="dive-controls">
        <button class="dive-btn up" id="upBtn" onclick="changeZone(-1)">
          ‚¨ÜÔ∏è Ascend
        </button>
        <button class="dive-btn down" id="downBtn" onclick="changeZone(1)">
          ‚¨áÔ∏è Descend
        </button>
      </div>

      <div class="zone-info" id="zoneInfo">
        <h2 id="zoneName">Sunlight Zone</h2>
        <div class="depth-range" id="zoneDepth">0 - 200 meters</div>
        <p id="zoneDescription">
          The bright upper layer where sunlight reaches and most ocean life
          lives.
        </p>
      </div>

      <div class="creatures-grid" id="creaturesGrid"></div>

      <div class="collection-panel">
        <h3>üèÜ Discovery Journal</h3>
        <div class="progress-bar">
          <div class="progress-fill" id="progressFill"></div>
        </div>
        <p style="text-align: center; opacity: 0.8">
          <span id="progressText">0% Complete</span>
        </p>
      </div>
    </div>

    <div class="depth-meter">
      <div class="depth-fill" id="depthFill" style="height: 10%">
        <div class="depth-marker" style="bottom: 0">0m</div>
      </div>
    </div>

    <div class="submarine" id="submarine">üö§</div>

    <!-- Start Modal -->
    <div class="modal active" id="startModal">
      <div class="modal-content">
        <h2>ü§ø Ocean Depth Diver</h2>
        <p>
          Welcome, ocean explorer! You're about to embark on an incredible
          journey through the ocean's five depth zones.
        </p>
        <p>
          Each zone has unique creatures adapted to live there. Click on
          creatures to discover fascinating facts!
        </p>
        <p><strong>Zones to explore:</strong></p>
        <p>‚òÄÔ∏è Sunlight ‚Üí üåÖ Twilight ‚Üí üåô Midnight ‚Üí üåë Abyssal ‚Üí ‚ö´ Hadal</p>
        <button class="modal-btn" onclick="startGame()">Start Diving!</button>
      </div>
    </div>

    <!-- Creature Modal -->
    <div class="creature-modal" id="creatureModal">
      <div class="creature-content">
        <h2>
          <span class="big-emoji" id="creatureEmoji">üê†</span>
          <span id="creatureName">Fish</span>
        </h2>
        <p id="creatureDescription"></p>
        <div class="fact-box">
          <h4>üî¨ Amazing Fact:</h4>
          <p id="creatureFact"></p>
        </div>
        <p id="creatureDepth" style="opacity: 0.8"></p>
        <button class="close-btn" onclick="closeCreatureModal()">
          Continue Exploring
        </button>
      </div>
    </div>

    <!-- Complete Modal -->
    <div class="modal" id="completeModal">
      <div class="modal-content">
        <h2>üèÜ Ocean Expert!</h2>
        <p>
          Incredible! You've discovered all the creatures across every ocean
          zone!
        </p>
        <p id="finalStats"></p>
        <button class="modal-btn" onclick="startGame()">Explore Again</button>
      </div>
    </div>

    <script>
      // Ocean zones with creatures
      const oceanZones = [
        {
          id: 'sunlight',
          name: 'Sunlight Zone (Epipelagic)',
          depthRange: '0 - 200 meters',
          description:
            'The bright surface layer where sunlight penetrates. This zone has the most life because plants can photosynthesize here. Water is warm and full of nutrients.',
          className: 'zone-sunlight',
          depth: 100,
          creatures: [
            {
              emoji: 'üê¨',
              name: 'Dolphin',
              description:
                'Dolphins are highly intelligent mammals that breathe air. They use echolocation to find food and communicate with clicks and whistles.',
              fact: 'Dolphins sleep with one half of their brain at a time, so they can keep swimming and breathing!',
            },
            {
              emoji: 'üê¢',
              name: 'Sea Turtle',
              description:
                'Sea turtles have existed for over 100 million years! They travel thousands of miles to return to the same beach where they were born to lay eggs.',
              fact: 'Sea turtles can hold their breath for up to 7 hours while sleeping!',
            },
            {
              emoji: 'ü¶à',
              name: 'Great White Shark',
              description:
                'Great white sharks are apex predators with incredible senses. They can detect a single drop of blood from miles away!',
              fact: 'Sharks have been around for over 400 million years - before dinosaurs existed!',
            },
            {
              emoji: 'üêô',
              name: 'Octopus',
              description:
                'Octopuses have three hearts and blue blood! They are incredibly intelligent and can solve puzzles and open jars.',
              fact: 'An octopus can change its color and texture in just 0.3 seconds to camouflage!',
            },
          ],
        },
        {
          id: 'twilight',
          name: 'Twilight Zone (Mesopelagic)',
          depthRange: '200 - 1,000 meters',
          description:
            'Only a tiny bit of light reaches here. Animals often have large eyes and some can produce their own light through bioluminescence.',
          className: 'zone-twilight',
          depth: 600,
          creatures: [
            {
              emoji: 'ü¶ë',
              name: 'Giant Squid',
              description:
                'Giant squid have the largest eyes in the animal kingdom - up to 10 inches across! They were once thought to be mythical sea monsters.',
              fact: 'Giant squid can grow up to 43 feet long - as long as a school bus!',
            },
            {
              emoji: 'üêü',
              name: 'Lanternfish',
              description:
                'Lanternfish have light-producing organs called photophores. They migrate up and down hundreds of meters every day!',
              fact: 'Lanternfish are the most common fish in the ocean - there are billions of them!',
            },
            {
              emoji: 'ü™º',
              name: 'Siphonophore',
              description:
                'Siphonophores look like single animals but are actually colonies of tiny organisms working together. Some can be 130 feet long!',
              fact: "The Portuguese Man-of-War is a famous siphonophore - it's not a jellyfish!",
            },
            {
              emoji: 'ü¶ê',
              name: 'Hatchetfish',
              description:
                'Hatchetfish have flat, silver bodies shaped like a hatchet. They use belly lights to hide their silhouette from predators below.',
              fact: "Hatchetfish can't survive if brought to the surface - the pressure change is too much!",
            },
          ],
        },
        {
          id: 'midnight',
          name: 'Midnight Zone (Bathypelagic)',
          depthRange: '1,000 - 4,000 meters',
          description:
            "No sunlight at all! It's completely dark and very cold. Animals here are specially adapted with bioluminescence and pressure-resistant bodies.",
          className: 'zone-midnight',
          depth: 2500,
          creatures: [
            {
              emoji: 'üê°',
              name: 'Anglerfish',
              description:
                'Female anglerfish have a glowing lure on their heads to attract prey in the darkness. Male anglerfish are tiny and fuse to females!',
              fact: "The anglerfish's light is created by glowing bacteria living in its lure!",
            },
            {
              emoji: 'ü¶∑',
              name: 'Fangtooth',
              description:
                "Fangtooth fish have the largest teeth of any fish relative to body size. Despite looking scary, they're only about 6 inches long.",
              fact: 'Fangtooth can survive being brought to the surface, unlike most deep-sea fish!',
            },
            {
              emoji: 'ü™±',
              name: 'Giant Tube Worm',
              description:
                'Giant tube worms live near hydrothermal vents. They have no mouth or stomach - bacteria inside them convert chemicals to food!',
              fact: "Giant tube worms can live for over 250 years - they're one of the longest-living animals!",
            },
            {
              emoji: 'üêö',
              name: 'Vampire Squid',
              description:
                'Despite its spooky name, vampire squid eat dead organic matter called "marine snow." They have webbed arms like a cape.',
              fact: 'Vampire squid can turn themselves "inside out" to defend against predators!',
            },
          ],
        },
        {
          id: 'abyssal',
          name: 'Abyssal Zone (Abyssopelagic)',
          depthRange: '4,000 - 6,000 meters',
          description:
            'Near-freezing temperatures and crushing pressure. Life here survives on dead matter falling from above, called "marine snow."',
          className: 'zone-abyssal',
          depth: 5000,
          creatures: [
            {
              emoji: 'ü¶Ä',
              name: 'Giant Isopod',
              description:
                "Giant isopods look like huge pill bugs! They're scavengers that can go years without eating if necessary.",
              fact: 'Giant isopods can grow up to 2.5 feet long - imagine a pill bug that size!',
            },
            {
              emoji: 'üêô',
              name: 'Dumbo Octopus',
              description:
                "Named after Disney's Dumbo, these cute octopuses have ear-like fins. They live deeper than any other octopus.",
              fact: "Dumbo octopuses don't have an ink sac - in the deep dark, there's no point in squirting ink!",
            },
            {
              emoji: 'üåü',
              name: 'Brittle Star',
              description:
                'Brittle stars are related to starfish but with longer, more flexible arms. They can regenerate lost arms!',
              fact: 'Some brittle stars can glow in the dark and even shoot glowing mucus at predators!',
            },
            {
              emoji: 'ü´ß',
              name: 'Sea Pig',
              description:
                'Sea pigs are actually sea cucumbers! They walk on the ocean floor on tube feet, eating mud for nutrients.',
              fact: 'Sea pigs often travel in large groups of hundreds - like a deep-sea herd!',
            },
          ],
        },
        {
          id: 'hadal',
          name: 'Hadal Zone (Hadalpelagic)',
          depthRange: '6,000 - 11,000 meters',
          description:
            'The deepest parts of ocean trenches. Pressure here is 1,000 times greater than at the surface! Only specially adapted creatures survive.',
          className: 'zone-hadal',
          depth: 8000,
          creatures: [
            {
              emoji: 'ü¶ê',
              name: 'Hadal Snailfish',
              description:
                'The deepest fish ever recorded! Found at 8,178 meters in the Mariana Trench. They have soft, gelatinous bodies.',
              fact: 'Hadal snailfish have special proteins that help their cells work under extreme pressure!',
            },
            {
              emoji: 'ü™∏',
              name: 'Hadal Amphipod',
              description:
                'These tiny shrimp-like creatures thrive in the deepest trenches. They eat anything that sinks to the bottom.',
              fact: "Scientists found plastic in hadal amphipods' stomachs - pollution reaches even here!",
            },
            {
              emoji: 'üåä',
              name: 'Foraminifera',
              description:
                'Microscopic creatures with shells, called "forams." Their fossils help scientists understand ancient oceans.',
              fact: 'Foram shells are so tiny that 50,000 could fit in a teaspoon!',
            },
            {
              emoji: 'üß´',
              name: 'Xenophyophore',
              description:
                "Giant single-celled organisms! They're among the largest single cells on Earth, up to 8 inches across.",
              fact: 'Xenophyophores build their shells from things they find - sand, shells, even tiny teeth!',
            },
          ],
        },
      ];

      // Game state
      let gameState = {
        currentZone: 0,
        discoveredCreatures: new Set(),
        score: 0,
        totalCreatures: 0,
      };

      function initGame() {
        gameState.currentZone = 0;
        gameState.discoveredCreatures = new Set();
        gameState.score = 0;

        // Count total creatures
        gameState.totalCreatures = oceanZones.reduce(
          (sum, zone) => sum + zone.creatures.length,
          0
        );

        updateDisplay();
        updateCreatures();
        createBubbles();
      }

      function changeZone(direction) {
        const newZone = gameState.currentZone + direction;
        if (newZone >= 0 && newZone < oceanZones.length) {
          gameState.currentZone = newZone;
          updateDisplay();
          updateCreatures();

          // Spawn swimming creature occasionally
          if (Math.random() > 0.5) {
            spawnSwimmingCreature();
          }
        }
      }

      function updateDisplay() {
        const zone = oceanZones[gameState.currentZone];

        // Update body class for background
        document.body.className = zone.className;

        // Update zone info
        document.getElementById('zoneName').textContent = zone.name;
        document.getElementById('zoneDepth').textContent = zone.depthRange;
        document.getElementById('zoneDescription').textContent =
          zone.description;

        // Update stats
        document.getElementById('currentDepth').textContent = zone.depth;
        document.getElementById('creatureCount').textContent =
          gameState.discoveredCreatures.size;
        document.getElementById('totalCreatures').textContent =
          gameState.totalCreatures;
        document.getElementById('score').textContent = gameState.score;

        // Update depth meter
        const depthPercent =
          ((gameState.currentZone + 1) / oceanZones.length) * 100;
        document.getElementById('depthFill').style.height = depthPercent + '%';

        // Update submarine position
        const submarine = document.getElementById('submarine');
        const subTop = 100 + gameState.currentZone * 120;
        submarine.style.top = subTop + 'px';

        // Change submarine to submersible in deep zones
        submarine.textContent = gameState.currentZone >= 2 ? 'üîµ' : 'üö§';

        // Update buttons
        document.getElementById('upBtn').disabled = gameState.currentZone === 0;
        document.getElementById('downBtn').disabled =
          gameState.currentZone === oceanZones.length - 1;

        // Update progress
        const progress =
          (gameState.discoveredCreatures.size / gameState.totalCreatures) * 100;
        document.getElementById('progressFill').style.width = progress + '%';
        document.getElementById('progressText').textContent =
          Math.round(progress) + '% Complete';
      }

      function updateCreatures() {
        const zone = oceanZones[gameState.currentZone];
        const grid = document.getElementById('creaturesGrid');
        grid.innerHTML = '';

        zone.creatures.forEach((creature, index) => {
          const creatureId = `${zone.id}-${index}`;
          const isDiscovered = gameState.discoveredCreatures.has(creatureId);

          const card = document.createElement('div');
          card.className = `creature-card ${isDiscovered ? 'discovered' : ''}`;
          card.innerHTML = `
                    <div class="emoji">${creature.emoji}</div>
                    <div class="name">${isDiscovered ? creature.name : '???'}</div>
                `;
          card.onclick = () => discoverCreature(creature, creatureId);
          grid.appendChild(card);
        });
      }

      function discoverCreature(creature, creatureId) {
        const isNew = !gameState.discoveredCreatures.has(creatureId);

        if (isNew) {
          gameState.discoveredCreatures.add(creatureId);
          gameState.score += 100;

          // Check for completion
          if (gameState.discoveredCreatures.size === gameState.totalCreatures) {
            setTimeout(showComplete, 500);
          }
        }

        showCreatureModal(creature);
        updateDisplay();
        updateCreatures();
      }

      function showCreatureModal(creature) {
        document.getElementById('creatureEmoji').textContent = creature.emoji;
        document.getElementById('creatureName').textContent = creature.name;
        document.getElementById('creatureDescription').textContent =
          creature.description;
        document.getElementById('creatureFact').textContent = creature.fact;

        const zone = oceanZones[gameState.currentZone];
        document.getElementById('creatureDepth').textContent =
          `Found in: ${zone.name}`;

        document.getElementById('creatureModal').classList.add('active');
      }

      function closeCreatureModal() {
        document.getElementById('creatureModal').classList.remove('active');
      }

      function showComplete() {
        document.getElementById('finalStats').innerHTML = `
                <strong>Creatures Discovered:</strong> ${gameState.discoveredCreatures.size}<br>
                <strong>Final Score:</strong> ${gameState.score} points<br>
                <strong>Zones Explored:</strong> All 5 ocean zones!
            `;
        document.getElementById('completeModal').classList.add('active');
      }

      function startGame() {
        document.getElementById('startModal').classList.remove('active');
        document.getElementById('completeModal').classList.remove('active');
        initGame();
      }

      function createBubbles() {
        setInterval(() => {
          if (Math.random() > 0.7) {
            const bubble = document.createElement('div');
            bubble.className = 'bubble';
            const size = Math.random() * 20 + 10;
            bubble.style.width = size + 'px';
            bubble.style.height = size + 'px';
            bubble.style.left = Math.random() * 100 + '%';
            bubble.style.bottom = '0';
            document.body.appendChild(bubble);

            setTimeout(() => bubble.remove(), 4000);
          }
        }, 500);
      }

      function spawnSwimmingCreature() {
        const zone = oceanZones[gameState.currentZone];
        const creature =
          zone.creatures[Math.floor(Math.random() * zone.creatures.length)];

        const swimmer = document.createElement('div');
        swimmer.className = 'swimming-creature';
        swimmer.textContent = creature.emoji;
        swimmer.style.top = Math.random() * 60 + 20 + '%';

        // Random direction
        if (Math.random() > 0.5) {
          swimmer.style.animation = 'swim 8s linear';
          swimmer.style.transform = 'scaleX(-1)';
        }

        document.body.appendChild(swimmer);
        setTimeout(() => swimmer.remove(), 8000);
      }

      // Keyboard navigation
      document.addEventListener('keydown', (e) => {
        if (e.key === 'ArrowUp') changeZone(-1);
        if (e.key === 'ArrowDown') changeZone(1);
        if (e.key === 'Escape') closeCreatureModal();
      });

      // Initialize on load
      window.onload = () => {
        initGame();
      };
    </script>
  </body>
</html>
