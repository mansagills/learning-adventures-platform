<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shape Sorting Arcade | Geometry Game</title>
    <meta name="description" content="Sort shapes based on their properties! Fast-paced geometry game.">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Comic Sans MS', Arial, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 1rem;
        }
        @media (prefers-reduced-motion: reduce) {
            *, *::before, *::after { animation-duration: 0.01ms !important; transition-duration: 0.01ms !important; }
        }
        .skip-link { position: absolute; top: -40px; left: 0; background: #000; color: #fff; padding: 8px; text-decoration: none; z-index: 100; }
        .skip-link:focus { top: 0; }
        .game-container { background: white; border-radius: 20px; padding: 2rem; box-shadow: 0 20px 60px rgba(0,0,0,0.3); max-width: 1000px; width: 100%; }
        h1 { color: #5a67d8; text-align: center; margin-bottom: 1rem; font-size: 2.5rem; }
        .subtitle { text-align: center; color: #718096; margin-bottom: 2rem; }
        #instructions { background: #edf2f7; padding: 1.5rem; border-radius: 12px; margin-bottom: 2rem; border-left: 4px solid #5a67d8; }
        .stats { display: flex; justify-content: space-around; margin-bottom: 2rem; gap: 1rem; flex-wrap: wrap; }
        .stat-box { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 1rem 1.5rem; border-radius: 12px; font-size: 1.2rem; font-weight: bold; }
        .shape-area { min-height: 200px; background: #f7fafc; border: 3px dashed #cbd5e0; border-radius: 12px; padding: 2rem; margin-bottom: 2rem; display: flex; justify-content: center; align-items: center; }
        .shape { width: 150px; height: 150px; transition: transform 0.3s; }
        .shape:hover { transform: scale(1.1); }
        .question { font-size: 1.8rem; font-weight: bold; text-align: center; margin-bottom: 2rem; color: #2d3748; }
        .bin-area { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem; margin-bottom: 2rem; }
        .bin { background: linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%); border: 3px solid #d97706; border-radius: 12px; padding: 2rem 1rem; text-align: center; cursor: pointer; transition: all 0.3s; }
        .bin:hover, .bin:focus { transform: translateY(-4px); box-shadow: 0 8px 20px rgba(0,0,0,0.25); outline: 3px solid #5a67d8; outline-offset: 2px; }
        .bin-label { font-size: 1.5rem; font-weight: bold; color: white; margin-top: 0.5rem; }
        .feedback { text-align: center; font-size: 1.5rem; font-weight: bold; padding: 1rem; border-radius: 12px; margin-bottom: 1rem; }
        .feedback.correct { background: #c6f6d5; color: #22543d; }
        .feedback.incorrect { background: #fed7d7; color: #742a2a; }
        .btn { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; border: none; padding: 1rem 2rem; border-radius: 12px; font-size: 1.2rem; font-weight: bold; cursor: pointer; transition: all 0.3s; margin: 0.5rem; }
        .btn:hover, .btn:focus { transform: translateY(-2px); box-shadow: 0 6px 16px rgba(0,0,0,0.25); outline: 3px solid #ffd700; outline-offset: 2px; }
        .hidden { display: none !important; }
    </style>
</head>
<body>
    <a href="#main-game" class="skip-link">Skip to game</a>
    <div class="game-container" role="main">
        <h1>üî∑ Shape Sorting Arcade üî∂</h1>
        <p class="subtitle">Sort shapes by their properties!</p>
        <div id="instructions">
            <h2>How to Play</h2>
            <ul style="margin-left: 1.5rem; color: #4a5568;">
                <li>Look at the shape shown</li>
                <li>Click the bin that matches the question</li>
                <li>Speed and accuracy earn more points!</li>
            </ul>
            <div style="text-align: center; margin-top: 1rem;">
                <button class="btn" onclick="startGame()">Start Sorting!</button>
            </div>
        </div>
        <div id="main-game" class="hidden">
            <div class="stats">
                <div class="stat-box">‚≠ê Score: <span id="score">0</span></div>
                <div class="stat-box">üìä Level: <span id="level">1</span></div>
                <div class="stat-box">‚úÖ Streak: <span id="streak">0</span></div>
            </div>
            <div class="question" id="question">How many sides?</div>
            <div class="shape-area">
                <svg class="shape" id="shape-svg" viewBox="0 0 200 200"></svg>
            </div>
            <div class="feedback hidden" id="feedback"></div>
            <div class="bin-area" id="bin-area"></div>
        </div>
        <div id="game-over" class="hidden" style="text-align: center;">
            <h2 style="color: #5a67d8; font-size: 2.5rem;">Great Job! üéâ</h2>
            <p style="font-size: 1.5rem; margin: 1rem 0;">Final Score: <span id="final-score">0</span></p>
            <button class="btn" onclick="location.reload()">Play Again</button>
        </div>
    </div>
    <script>
        let score = 0, level = 1, streak = 0, currentShape = null;
        const shapes = [
            { name: 'triangle', sides: 3, color: '#ff6b6b' },
            { name: 'square', sides: 4, color: '#4ecdc4' },
            { name: 'pentagon', sides: 5, color: '#45b7d1' },
            { name: 'hexagon', sides: 6, color: '#feca57' },
            { name: 'octagon', sides: 8, color: '#ee5a6f' }
        ];
        const questions = [
            { type: 'sides', text: 'How many sides?', getAnswer: (s) => s.sides },
            { type: 'name', text: 'What shape is this?', getAnswer: (s) => s.name }
        ];
        function startGame() {
            document.getElementById('instructions').classList.add('hidden');
            document.getElementById('main-game').classList.remove('hidden');
            updateDisplay();
            generateQuestion();
        }
        function updateDisplay() {
            document.getElementById('score').textContent = score;
            document.getElementById('level').textContent = level;
            document.getElementById('streak').textContent = streak;
        }
        function generateQuestion() {
            document.getElementById('feedback').classList.add('hidden');
            currentShape = shapes[Math.floor(Math.random() * shapes.length)];
            const questionType = questions[Math.floor(Math.random() * questions.length)];
            document.getElementById('question').textContent = questionType.text;
            drawShape(currentShape);
            generateBins(questionType);
        }
        function drawShape(shape) {
            const svg = document.getElementById('shape-svg');
            const cx = 100, cy = 100, radius = 60;
            let points = '';
            for (let i = 0; i < shape.sides; i++) {
                const angle = (i * 2 * Math.PI / shape.sides) - Math.PI / 2;
                points += `${cx + radius * Math.cos(angle)},${cy + radius * Math.sin(angle)} `;
            }
            svg.innerHTML = `<polygon points="${points}" fill="${shape.color}" stroke="#2d3748" stroke-width="3"/>`;
        }
        function generateBins(questionType) {
            const correctAnswer = questionType.getAnswer(currentShape);
            const bins = new Set([correctAnswer]);
            if (questionType.type === 'sides') {
                while (bins.size < 4) bins.add(Math.floor(Math.random() * 8) + 3);
            } else {
                while (bins.size < 4) bins.add(shapes[Math.floor(Math.random() * shapes.length)].name);
            }
            const binArray = Array.from(bins).sort(() => Math.random() - 0.5);
            document.getElementById('bin-area').innerHTML = binArray.map(answer => `
                <div class="bin" tabindex="0" onclick="checkAnswer('${answer}')" onkeypress="if(event.key==='Enter') checkAnswer('${answer}')">
                    <div style="font-size: 3rem;">üì¶</div>
                    <div class="bin-label">${answer}</div>
                </div>
            `).join('');
        }
        function checkAnswer(selected) {
            const feedback = document.getElementById('feedback');
            feedback.classList.remove('hidden', 'correct', 'incorrect');
            const correctAnswer = document.getElementById('question').textContent.includes('sides') ? currentShape.sides : currentShape.name;
            if (String(selected) === String(correctAnswer)) {
                score += (10 + streak * 2);
                streak++;
                feedback.classList.add('correct');
                feedback.textContent = `‚úÖ Correct! +${10 + (streak - 1) * 2} points`;
                if (score % 100 === 0 && score > 0) level++;
                setTimeout(() => generateQuestion(), 1200);
            } else {
                streak = 0;
                feedback.classList.add('incorrect');
                feedback.textContent = `‚ùå Wrong! Correct: ${correctAnswer}`;
                setTimeout(() => generateQuestion(), 1800);
            }
            updateDisplay();
        }
    </script>
</body>
</html>
