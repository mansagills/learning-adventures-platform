
> learning-adventures-app@0.1.0 test /app/learning-adventures-app
> vitest run


 RUN  v3.2.4 /app/learning-adventures-app

stderr | tests/security/zip-slip.test.ts > Security: Zip Slip & Path Traversal > should BLOCK Path Traversal in uploadedZipPath
Security Block: Invalid zip path: ../../../../etc/passwd

stderr | tests/security/zip-slip.test.ts > Security: Zip Slip & Path Traversal > should BLOCK Zip Slip in zip contents
Error saving content: Error: Security Violation: Zip Slip detected in entry ../../evil.js
    at Module.POST [90m(/app/learning-adventures-app/[39mapp/api/internal/save-content/route.ts:90:20[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at [90m/app/learning-adventures-app/[39mtests/security/zip-slip.test.ts:89:17
    at [90mfile:///app/learning-adventures-app/[39mnode_modules/[4m.pnpm[24m/@vitest+runner@3.2.4/node_modules/[4m@vitest/runner[24m/dist/chunk-hooks.js:752:20

 ‚úì tests/security/zip-slip.test.ts (2 tests) 28ms
 ‚ùØ tests/Faq.test.tsx (8 tests | 3 failed) 925ms
   √ó FAQ Component > renders all FAQ items 126ms
     ‚Üí Unable to find an element with the text: Frequently Asked Questions. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<section[39m
      [33mclass[39m=[32m"py-20 bg-white relative overflow-hidden"[39m
      [33mid[39m=[32m"faq"[39m
    [36m>[39m
      [36m<div[39m
        [33mclass[39m=[32m"absolute inset-0 bg-dot-grid opacity-10"[39m
      [36m/>[39m
      [36m<div[39m
        [33mclass[39m=[32m"container-lg"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"text-center mb-12 relative z-10"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"inline-flex items-center gap-2 mb-4 px-4 py-2 bg-white border-2 border-pg-border rounded-full shadow-pop"[39m
          [36m>[39m
            [36m<span[39m
              [33mclass[39m=[32m"text-lg"[39m
            [36m>[39m
              [0m‚ùì[0m
            [36m</span>[39m
            [36m<span[39m
              [33mclass[39m=[32m"text-sm font-bold text-foreground uppercase tracking-wide"[39m
            [36m>[39m
              [0mFAQ[0m
            [36m</span>[39m
          [36m</div>[39m
          [36m<h2[39m
            [33mclass[39m=[32m"font-outfit text-4xl md:text-5xl font-extrabold text-foreground mb-4"[39m
          [36m>[39m
            [0mFrequently Asked[0m
            [0m [0m
            [36m<span[39m
              [33mclass[39m=[32m"relative inline-block"[39m
            [36m>[39m
              [36m<span[39m
                [33mclass[39m=[32m"text-pg-violet"[39m
              [36m>[39m
                [0mQuestions[0m
              [36m</span>[39m
              [36m<svg[39m
                [33mclass[39m=[32m"absolute -bottom-1 left-0 w-full h-3"[39m
                [33mfill[39m=[32m"none"[39m
                [33mviewBox[39m=[32m"0 0 200 8"[39m
                [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
              [36m>[39m
                [36m<path[39m
                  [33md[39m=[32m"M2 4C20 2 40 6 60 4C80 2 100 6 120 4C140 2 160 6 180 4C190 3 198 4 198 4"[39m
                  [33mstroke[39m=[32m"#F472B6"[39m
                  [33mstroke-linecap[39m=[32m"round"[39m
                  [33mstroke-width[39m=[32m"3"[39m
                [36m/>[39m
              [36m</svg>[39m
            [36m</span>[39m
          [36m</h2>[39m
          [36m<p[39m
            [33mclass[39m=[32m"font-plus-jakarta text-xl text-foreground/70 max-w-2xl mx-auto"[39m
          [36m>[39m
            [0mHave questions? We've got answers. Can't find what you're looking for? Contact our support team.[0m
          [36m</p>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"max-w-3xl mx-auto relative z-10"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"space-y-4"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"card-sticker overflow-hidden hover:rotate-0 hover:scale-100"[39m
            [36m>[39m
              [36m<button[39m
                [33maria-controls[39m=[32m"faq-answer-accessibility"[39m
                [33maria-expanded[39m=[32m"false"[39m
                [33mclass[39m=[32m"w-full px-6 py-5 text-left flex items-center justify-between transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-pg-violet focus:ring-offset-2 rounded-xl"[39m
                [33mid[39m=[32m"faq-question-accessibility"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center gap-4 pr-4"[39m
                [36m>[39m
                  [36m<span[39m
                    [33mclass[39m=[32m"font-outfit text-2xl font-extrabold text-pg-violet"[39m
                  [36m>[39m
                    [0m01[0m
                  [36m</span>[39m
                  [36m<span[39m
                    [33mclass[39m=[32m"font-outfit font-bold text-foreground text-lg"[39m
                  [36m>[39m
                    [0mIs Learning Adventures accessible for children with special needs?[0m
                  [36m</span>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex-shrink-0 w-10 h-10 bg-pg-violet border-2 border-pg-border rounded-full flex items-center justify-center shadow-pop transition-transform duration-200 "[39m
                [36m>[39m
                  [36m<svg[39m
                    [33mclass[39m=[32m"w-5 h-5 text-white"[39m
                    [33mfill[39m=[32m"none"[39m
                    [33mstroke[39m=[32m"currentColor"[39m
                    [33mviewBox[39m=[32m"0 0 24 24"[39m
                  [36m>[39m
                    [36m<path[39m
                      [33md[39m=[32m"M19 9l-7 7-7-7"[39m
                      [33mstroke-linecap[39m=[32m"round"[39m
                      [33mstroke-linejoin[39m=[32m"round"[39m
                      [33mstroke-width[39m=[32m"2"[39m
                    [36m/>[39m
                  [36m</svg>[39m
                [36m</div>[39m
              [36m</button>[39m
              [36m<div[39m
                [33maria-labelledby[39m=[32m"faq-question-accessibility"[39m
                [33mclass[39m=[32m"transition-all duration-300 ease-bounce max-h-0 opacity-0 overflow-hidden"[39m
                [33mid[39m=[32m"faq-answer-accessibility"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"px-6 pb-5 pl-[88px]"[39m
                [36m>[39m
                  [36m<p[39m
                    [33mclass[39m=[32m"font-plus-jakarta text-foreground/70 leading-relaxed"[39m
                  [36m>[39m
                    [0mYes! Our platform is designed with accessibility as a core principle. We provide keyboard navigation, screen reader compatibility, high contrast modes, adjustable text sizes, and support for various assistive technologies.[0m
                  [36m</p>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"card-sticker overflow-hidden hover:rotate-0 hover:scale-100"[39m
            [36m>[39m
              [36m<button[39m
                [33maria-controls[39m=[32m"faq-answer-pricing"[39m
                [33maria-expanded[39m=[32m"false"[39m
                [33mclass[39m=[32m"w-full px-6 py-5 text-left flex items-center justify-between transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-pg-violet focus:ring-offset-2 rounded-xl"[39m
                [33mid[39m=[32m"faq-question-pricing"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center gap-4 pr-4"[39m
                [36m>[39m
                  [36m<span[39m
                    [33mclass[39m=[32m"font-outfit te...
   ‚úì FAQ Component > expands and collapses FAQ items when clicked 73ms
   ‚úì FAQ Component > tracks analytics when FAQ items are opened 35ms
   √ó FAQ Component > has proper ARIA attributes for accessibility 267ms
     ‚Üí [2mexpect([22m[31melement[39m[2m).toHaveAttribute([22m[32m[32m"aria-expanded"[32m[39m[2m) // element.hasAttribute("aria-expanded")[22m

Expected the element to have attribute:
[32m  aria-expanded[39m
Received:
[31m  null[39m
   √ó FAQ Component > supports keyboard navigation 138ms
     ‚Üí [2mexpect([22m[31melement[39m[2m).toHaveAttribute([22m[32m[32m"aria-expanded"[32m[39m[2m, [22m[32m[32m"true"[32m[39m[2m) // element.getAttribute("aria-expanded") === "true"[22m

Expected the element to have attribute:
[32m  aria-expanded="true"[39m
Received:
[31m  aria-expanded="false"[39m
   ‚úì FAQ Component > allows multiple FAQ items to be open simultaneously 128ms
   ‚úì FAQ Component > renders contact CTA section 39ms
   ‚úì FAQ Component > has proper focus management 118ms

‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ Failed Tests 3 ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ

 FAIL  tests/Faq.test.tsx > FAQ Component > renders all FAQ items
TestingLibraryElementError: Unable to find an element with the text: Frequently Asked Questions. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<section[39m
      [33mclass[39m=[32m"py-20 bg-white relative overflow-hidden"[39m
      [33mid[39m=[32m"faq"[39m
    [36m>[39m
      [36m<div[39m
        [33mclass[39m=[32m"absolute inset-0 bg-dot-grid opacity-10"[39m
      [36m/>[39m
      [36m<div[39m
        [33mclass[39m=[32m"container-lg"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"text-center mb-12 relative z-10"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"inline-flex items-center gap-2 mb-4 px-4 py-2 bg-white border-2 border-pg-border rounded-full shadow-pop"[39m
          [36m>[39m
            [36m<span[39m
              [33mclass[39m=[32m"text-lg"[39m
            [36m>[39m
              [0m‚ùì[0m
            [36m</span>[39m
            [36m<span[39m
              [33mclass[39m=[32m"text-sm font-bold text-foreground uppercase tracking-wide"[39m
            [36m>[39m
              [0mFAQ[0m
            [36m</span>[39m
          [36m</div>[39m
          [36m<h2[39m
            [33mclass[39m=[32m"font-outfit text-4xl md:text-5xl font-extrabold text-foreground mb-4"[39m
          [36m>[39m
            [0mFrequently Asked[0m
            [0m [0m
            [36m<span[39m
              [33mclass[39m=[32m"relative inline-block"[39m
            [36m>[39m
              [36m<span[39m
                [33mclass[39m=[32m"text-pg-violet"[39m
              [36m>[39m
                [0mQuestions[0m
              [36m</span>[39m
              [36m<svg[39m
                [33mclass[39m=[32m"absolute -bottom-1 left-0 w-full h-3"[39m
                [33mfill[39m=[32m"none"[39m
                [33mviewBox[39m=[32m"0 0 200 8"[39m
                [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
              [36m>[39m
                [36m<path[39m
                  [33md[39m=[32m"M2 4C20 2 40 6 60 4C80 2 100 6 120 4C140 2 160 6 180 4C190 3 198 4 198 4"[39m
                  [33mstroke[39m=[32m"#F472B6"[39m
                  [33mstroke-linecap[39m=[32m"round"[39m
                  [33mstroke-width[39m=[32m"3"[39m
                [36m/>[39m
              [36m</svg>[39m
            [36m</span>[39m
          [36m</h2>[39m
          [36m<p[39m
            [33mclass[39m=[32m"font-plus-jakarta text-xl text-foreground/70 max-w-2xl mx-auto"[39m
          [36m>[39m
            [0mHave questions? We've got answers. Can't find what you're looking for? Contact our support team.[0m
          [36m</p>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"max-w-3xl mx-auto relative z-10"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"space-y-4"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"card-sticker overflow-hidden hover:rotate-0 hover:scale-100"[39m
            [36m>[39m
              [36m<button[39m
                [33maria-controls[39m=[32m"faq-answer-accessibility"[39m
                [33maria-expanded[39m=[32m"false"[39m
                [33mclass[39m=[32m"w-full px-6 py-5 text-left flex items-center justify-between transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-pg-violet focus:ring-offset-2 rounded-xl"[39m
                [33mid[39m=[32m"faq-question-accessibility"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center gap-4 pr-4"[39m
                [36m>[39m
                  [36m<span[39m
                    [33mclass[39m=[32m"font-outfit text-2xl font-extrabold text-pg-violet"[39m
                  [36m>[39m
                    [0m01[0m
                  [36m</span>[39m
                  [36m<span[39m
                    [33mclass[39m=[32m"font-outfit font-bold text-foreground text-lg"[39m
                  [36m>[39m
                    [0mIs Learning Adventures accessible for children with special needs?[0m
                  [36m</span>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex-shrink-0 w-10 h-10 bg-pg-violet border-2 border-pg-border rounded-full flex items-center justify-center shadow-pop transition-transform duration-200 "[39m
                [36m>[39m
                  [36m<svg[39m
                    [33mclass[39m=[32m"w-5 h-5 text-white"[39m
                    [33mfill[39m=[32m"none"[39m
                    [33mstroke[39m=[32m"currentColor"[39m
                    [33mviewBox[39m=[32m"0 0 24 24"[39m
                  [36m>[39m
                    [36m<path[39m
                      [33md[39m=[32m"M19 9l-7 7-7-7"[39m
                      [33mstroke-linecap[39m=[32m"round"[39m
                      [33mstroke-linejoin[39m=[32m"round"[39m
                      [33mstroke-width[39m=[32m"2"[39m
                    [36m/>[39m
                  [36m</svg>[39m
                [36m</div>[39m
              [36m</button>[39m
              [36m<div[39m
                [33maria-labelledby[39m=[32m"faq-question-accessibility"[39m
                [33mclass[39m=[32m"transition-all duration-300 ease-bounce max-h-0 opacity-0 overflow-hidden"[39m
                [33mid[39m=[32m"faq-answer-accessibility"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"px-6 pb-5 pl-[88px]"[39m
                [36m>[39m
                  [36m<p[39m
                    [33mclass[39m=[32m"font-plus-jakarta text-foreground/70 leading-relaxed"[39m
                  [36m>[39m
                    [0mYes! Our platform is designed with accessibility as a core principle. We provide keyboard navigation, screen reader compatibility, high contrast modes, adjustable text sizes, and support for various assistive technologies.[0m
                  [36m</p>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"card-sticker overflow-hidden hover:rotate-0 hover:scale-100"[39m
            [36m>[39m
              [36m<button[39m
                [33maria-controls[39m=[32m"faq-answer-pricing"[39m
                [33maria-expanded[39m=[32m"false"[39m
                [33mclass[39m=[32m"w-full px-6 py-5 text-left flex items-center justify-between transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-pg-violet focus:ring-offset-2 rounded-xl"[39m
                [33mid[39m=[32m"faq-question-pricing"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center gap-4 pr-4"[39m
                [36m>[39m
                  [36m<span[39m
                    [33mclass[39m=[32m"font-outfit te...
 ‚ùØ Object.getElementError node_modules/.pnpm/@testing-library+dom@9.3.4/node_modules/@testing-library/dom/dist/config.js:37:19
 ‚ùØ node_modules/.pnpm/@testing-library+dom@9.3.4/node_modules/@testing-library/dom/dist/query-helpers.js:76:38
 ‚ùØ node_modules/.pnpm/@testing-library+dom@9.3.4/node_modules/@testing-library/dom/dist/query-helpers.js:52:17
 ‚ùØ node_modules/.pnpm/@testing-library+dom@9.3.4/node_modules/@testing-library/dom/dist/query-helpers.js:95:19
 ‚ùØ tests/Faq.test.tsx:21:19
     19|     render(<Faq />);
     20|
     21|     expect(screen.getByText('Frequently Asked Questions')).toBeInTheDo‚Ä¶
       |                   ^
     22|     expect(
     23|       screen.getByText(

‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[1/3]‚éØ

 FAIL  tests/Faq.test.tsx > FAQ Component > has proper ARIA attributes for accessibility
Error: [2mexpect([22m[31melement[39m[2m).toHaveAttribute([22m[32m[32m"aria-expanded"[32m[39m[2m) // element.hasAttribute("aria-expanded")[22m

Expected the element to have attribute:
[32m  aria-expanded[39m
Received:
[31m  null[39m
 ‚ùØ tests/Faq.test.tsx:98:22
     96|
     97|     buttons.forEach((button, index) => {
     98|       expect(button).toHaveAttribute('aria-expanded');
       |                      ^
     99|       expect(button).toHaveAttribute('aria-controls');
    100|       expect(button).toHaveAttribute('id');
 ‚ùØ tests/Faq.test.tsx:97:13

‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[2/3]‚éØ

 FAIL  tests/Faq.test.tsx > FAQ Component > supports keyboard navigation
Error: [2mexpect([22m[31melement[39m[2m).toHaveAttribute([22m[32m[32m"aria-expanded"[32m[39m[2m, [22m[32m[32m"true"[32m[39m[2m) // element.getAttribute("aria-expanded") === "true"[22m

Expected the element to have attribute:
[32m  aria-expanded="true"[39m
Received:
[31m  aria-expanded="false"[39m
 ‚ùØ tests/Faq.test.tsx:118:25
    116|     // Test Enter key
    117|     fireEvent.keyDown(firstButton, { key: 'Enter', code: 'Enter' });
    118|     expect(firstButton).toHaveAttribute('aria-expanded', 'true');
       |                         ^
    119|
    120|     // Test Space key

‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[3/3]‚éØ


 Test Files  1 failed | 1 passed (2)
      Tests  3 failed | 7 passed (10)
   Start at  03:45:07
   Duration  2.63s (transform 204ms, setup 248ms, collect 430ms, tests 953ms, environment 1.34s, prepare 234ms)

‚ÄâELIFECYCLE‚Äâ Test failed. See above for more details.
